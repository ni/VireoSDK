<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Vireo: EBNF grammar for VIA assembly</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Vireo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Vireo
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Compact runtime for Virtual Instruments</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">EBNF grammar for VIA assembly </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The VIA grammar is based on simple parentesized lists and are closely related to <a href="http://en.wikipedia.org/wiki/S-expressions">s-expressions</a> used in the LISP programming language and many of its derivatives. The similarity is strongest for <a href="#DataValue_EBNF">data sets</a> since they can nest arbitrarily deep. <a class="el" href="md_dox__via_e_b_n_f.html#VI_EBNF">VIs</a> are distictly different though using a common format makes it easier to treat them as data as well</p>
<p>For clarity, the following EBNF grammar goes a bit further and defines the core elements for type, data and VI definitions. Note that terminal expressions for core types such as Int32 are not included since they are typically defined using lower level primitives.</p>
<h3>Grammar for types</h3>
<div class="fragment"><div class="line">type                    := named_type | array | cluster | default_value_type</div>
<div class="line">                         | bit_cluster | equivalence | param_block | var_type</div>
<div class="line"></div>
<div class="line">named_type              := <span class="charliteral">&#39;.&#39;</span>  type_in_dictionary</div>
<div class="line"></div>
<div class="line"> type_in_dictionary     := token that is a key <span class="keywordflow">for</span> a type in the dictionary</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">array                   := <span class="charliteral">&#39;a&#39;</span> <span class="charliteral">&#39;(&#39;</span> type dimension* <span class="charliteral">&#39;)&#39;</span></div>
<div class="line"></div>
<div class="line">  dimension             := variable_dimension | fixed_dimension | bounded_dimension</div>
<div class="line"></div>
<div class="line">  variable_dimension    := wild_card</div>
<div class="line"></div>
<div class="line">  fixed_dimension       := whole_number_token</div>
<div class="line"></div>
<div class="line">  bounded_dimension     := negative_number_token</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">cluster                 := <span class="charliteral">&#39;c&#39;</span>  <span class="charliteral">&#39;(&#39;</span> cluster_element* <span class="charliteral">&#39;)&#39;</span></div>
<div class="line"></div>
<div class="line">param_block             := <span class="charliteral">&#39;p&#39;</span>  <span class="charliteral">&#39;(&#39;</span> cluster_element* <span class="charliteral">&#39;)&#39;</span></div>
<div class="line"></div>
<div class="line">equivalence             := <span class="stringliteral">&#39;eq&#39;</span> <span class="charliteral">&#39;(&#39;</span> cluster_element* <span class="charliteral">&#39;)&#39;</span></div>
<div class="line"></div>
<div class="line">bit_cluster             := <span class="stringliteral">&#39;bc&#39;</span> <span class="charliteral">&#39;(&#39;</span> cluster_element* <span class="charliteral">&#39;)&#39;</span></div>
<div class="line"></div>
<div class="line">cluster_element         := <span class="stringliteral">&#39;element_usage_type &#39;</span>(<span class="stringliteral">&#39; type [element_name] &#39;</span>)<span class="stringliteral">&#39;</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">  element_usage_type    := &#39;</span>e<span class="stringliteral">&#39; | &#39;</span>i<span class="stringliteral">&#39; | &#39;</span>io<span class="stringliteral">&#39; | &#39;</span>o<span class="stringliteral">&#39; | &#39;</span>s<span class="stringliteral">&#39; | &#39;</span>t<span class="stringliteral">&#39; | &#39;</span>x<span class="stringliteral">&#39; | &#39;</span>im<span class="stringliteral">&#39; | &#39;</span>al<span class="stringliteral">&#39;</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">  element_name          := token</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">bit_block               := &#39;</span>bb<span class="charliteral">&#39; &#39;</span>(<span class="stringliteral">&#39; bit_count encoding &#39;</span>)<span class="stringliteral">&#39;</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">  bit_count             := natural_number_token</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">  encoding              := &#39;</span>Cluster<span class="stringliteral">&#39; | &#39;</span>ParamBlock<span class="stringliteral">&#39; | &#39;</span>Array<span class="stringliteral">&#39; | &#39;</span>Generic<span class="stringliteral">&#39; |</span></div>
<div class="line"><span class="stringliteral">                         | &#39;</span>Boolean<span class="stringliteral">&#39; | &#39;</span>Bits<span class="stringliteral">&#39; | &#39;</span>UInt<span class="stringliteral">&#39; | &#39;</span>SInt<span class="stringliteral">&#39; | &#39;</span>Unicode<span class="stringliteral">&#39; | &#39;</span>Ascii<span class="stringliteral">&#39;</span></div>
<div class="line"><span class="stringliteral">                         | &#39;</span>IntBiased<span class="stringliteral">&#39; | &#39;</span>IEEE754B<span class="stringliteral">&#39; | &#39;</span>Pointer<span class="stringliteral">&#39;</span></div>
<div class="line"><span class="stringliteral">                         | &#39;</span>Q<span class="stringliteral">&#39; | &#39;</span>Q1<span class="stringliteral">&#39; |</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">default_value_type      := &#39;</span>dv<span class="charliteral">&#39; &#39;</span>(<span class="stringliteral">&#39; type { data_element } &#39;</span>)<span class="stringliteral">&#39;</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">var_type                := &#39;</span>var<span class="charliteral">&#39; &#39;</span>(<span class="stringliteral">&#39; type { data_element } &#39;</span>)<span class="stringliteral">&#39;</span></div>
</div><!-- fragment --><div class="fragment"><div class="line">data_element             := token | data_collection | data_vi</div>
<div class="line"></div>
<div class="line">data_collection          := <span class="charliteral">&#39;(&#39;</span> data_element* <span class="charliteral">&#39;)&#39;</span></div>
</div><!-- fragment --><div class="fragment"><div class="line">data_vi                  := <span class="charliteral">&#39;(&#39;</span></div>
<div class="line">                                parameter_type? dataspace_type</div>
<div class="line">                                data_clump*</div>
<div class="line">                             <span class="charliteral">&#39;)&#39;</span></div>
<div class="line"></div>
<div class="line">parameter_type          := type</div>
<div class="line"></div>
<div class="line">dataspace_type          := type</div>
<div class="line"></div>
<div class="line">data_clump              := <span class="stringliteral">&#39;clump&#39;</span> <span class="charliteral">&#39;(&#39;</span> fire_count data_instruction* <span class="charliteral">&#39;)&#39;</span></div>
<div class="line"></div>
<div class="line">fire_count              := whole_number_token</div>
<div class="line"></div>
<div class="line">data_instruction        := instruction_name <span class="charliteral">&#39;(&#39;</span> instruction_argument* <span class="charliteral">&#39;)&#39;</span></div>
<div class="line"></div>
<div class="line">instruction_name        := <span class="stringliteral">&#39;Perch&#39;</span> | type_name</div>
<div class="line"></div>
<div class="line">instruction_argument    := token | wild_card</div>
</div><!-- fragment --><h3>Grammar rules for low level tokens</h3>
<div class="fragment"><div class="line">whole_number_token      := token that is a legal number &gt;= 0</div>
<div class="line"></div>
<div class="line">natural_number_token    := token that is a legal number &gt; 0</div>
<div class="line"></div>
<div class="line">negative_number_token   := token that is a legal number &lt; 0</div>
<div class="line"></div>
<div class="line">token                   := quoted_string | non_white_sp_string</div>
<div class="line"></div>
<div class="line">  quoted_string         := escaped_quoted_string | literal_quoted_string</div>
<div class="line"></div>
<div class="line">  escaped_quoted_string := (<span class="stringliteral">&#39;”&#39;</span> | <span class="stringliteral">&#39;’&#39;</span>) characters_possibly_with_escapes (<span class="stringliteral">&#39;”&#39;</span> | <span class="stringliteral">&#39;’&#39;</span>)</div>
<div class="line">                          <span class="comment">// Surrounding quotes must match, escapes are \n\r etc.</span></div>
<div class="line">                          <span class="comment">// Escape sequences are converted when initialy parsed.</span></div>
<div class="line"></div>
<div class="line">  literal_quoted_string := <span class="charliteral">&#39;@&#39;</span> (<span class="stringliteral">&#39;”&#39;</span> | <span class="stringliteral">&#39;’&#39;</span>) raw_characters (<span class="stringliteral">&#39;”&#39;</span> | <span class="stringliteral">&#39;’&#39;</span>)</div>
<div class="line">                          <span class="comment">// Surrounding quotes must match, raw characters cannot</span></div>
<div class="line">                          <span class="comment">// contain the encompassing quote character. escape sequences </span></div>
<div class="line">                          <span class="comment">// are ignored and are left as the raw characters.</span></div>
<div class="line"></div>
<div class="line">non_white_sp_string     := { letter_char | number_char | symbol_char }</div>
<div class="line"></div>
<div class="line">symbol_char             := <span class="charliteral">&#39;.&#39;</span> | <span class="charliteral">&#39;_&#39;</span> | <span class="charliteral">&#39;+&#39;</span> | <span class="charliteral">&#39;-&#39;</span> | <span class="charliteral">&#39;#&#39;</span> | <span class="charliteral">&#39;@&#39;</span> | <span class="charliteral">&#39;%&#39;</span> | <span class="charliteral">&#39;$&#39;</span> | <span class="charliteral">&#39;&amp;&#39;</span></div>
<div class="line">                         | <span class="charliteral">&#39;!&#39;</span> | <span class="charliteral">&#39;^&#39;</span> | <span class="charliteral">&#39;~&#39;</span> | wild_card</div>
<div class="line"></div>
<div class="line">letter_char             := [a-z] | [A-Z] | [non-ascii-unicode chars]</div>
<div class="line"></div>
<div class="line">number_char             := [0-9]</div>
<div class="line"></div>
<div class="line">wild_card               := <span class="charliteral">&#39;*&#39;</span></div>
<div class="line"></div>
<div class="line">white_space             := ( cr | lf | ht )*</div>
<div class="line">                         <span class="comment">// White space can occur before any terminal pattern</span></div>
<div class="line">                         <span class="comment">// for simplicity, this has not be annotated</span></div>
<div class="line">                         <span class="comment">// in the grammar described above</span></div>
</div><!-- fragment --> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
