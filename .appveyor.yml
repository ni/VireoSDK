branches:
  except:
    - gh-pages
image: Visual Studio 2017
init:
- tzutil /s "Central Standard Time"
- cmd: node -v
- cmd: npm -v
- cmd: python -V
- cmd: pip -V
- ps: $PSVersionTable
install:
  - chocolatey install make
  - chocolatey install gnuwin32-coreutils.portable
  - npm install
  - ps: dir
  - ps: Start-BitsTransfer -Source https://s3.amazonaws.com/mozilla-games/emscripten/releases/emsdk-1.35.0-portable-64bit.zip -Destination .\emsdk-1.35.0-portable-64bit.zip
  - ps: dir
  - ps: Expand-Archive .\emsdk-1.35.0-portable-64bit.zip -DestinationPath .\emscripten-sdk
  - emscripten-sdk\emsdk update
  - emscripten-sdk\emsdk list
  - emscripten-sdk\emsdk install emscripten-1.35.0
  - emscripten-sdk\emsdk activate
  - emcc -v
platform:
  - Win32
configuration:
  - Debug
before_build:
  - npm run createobjs
build:
  project: Vireo_VS/VireoCommandLine.sln
test_script:
  - make testnative

