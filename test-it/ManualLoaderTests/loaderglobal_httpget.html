<!DOCTYPE html>
<!--
Copyright (c) 2020 National Instruments
SPDX-License-Identifier: MIT
-->

<html>
<head>
<script src="../../dist/wasm32-unknown-emscripten/release/vireo.js"></script>
<script src="loaderglobal_httpget.js"></script>

</head>
<body>
<script type="text/via" id="viacode">

define(MyVI dv(VirtualInstrument (
    Locals: c(
        e(dv(.UInt32 0) handle)
        e('http://httpbin.org/get' url)
        e('' outputFile)
        e(10000 timeout)
        e('' headers)
        e('' body)
        e(dv(.UInt32 0) statusCode)
        e(c(
            e(.Boolean status)
            e(.Int32 code)
            e(.String source)
        ) error)
    )
    clump (
        HttpClientGet(handle url outputFile timeout headers body statusCode error)
    )
) ) )

enqueue(MyVI)
//Finished!! :D
</script>
</body>
</html>
