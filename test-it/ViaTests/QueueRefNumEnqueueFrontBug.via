define(TestProgram dv(.VirtualInstrument (
    c(
        e(.QueueRefNum<.Double> q)
        e(.Double y)
        e(.Int32 maxsize)
        e(.Int32 ne)
        e(.Boolean timedOut)
        e(.Boolean overflowed)
        e(.Boolean badAliasingTestPass)
        e(a(.Double *) remainingElts)
        e(.ErrorCluster err)
    )

    clump (
        ObtainQueue(q * * * * err)
        Enqueue(q 0.0 1000 timedOut err)
        Printf("Enqueue with empty unbounded queue\n")
        GetQueueStatus(q true maxsize * * * ne remainingElts err)
        Printf("GetQueueStatus: maxsize=%d numElem=%d remainingElts=%z\n" maxsize ne remainingElts)
        Dequeue(q y * * err)
        Printf("Dequeue unbounded queue y=%z\n" y)
        GetQueueStatus(q true maxsize * * * ne remainingElts err)
        Printf("GetQueueStatus: maxsize=%d numElem=%d remainingElts=%z\n" maxsize ne remainingElts)
        EnqueueFront(q 1.0 1000 timedOut err)
        Printf("EnqueueFront with empty unbounded queue\n")
        GetQueueStatus(q true maxsize * * * ne remainingElts err)
        Printf("GetQueueStatus: maxsize=%d numElem=%d remainingElts=%z\n" maxsize ne remainingElts)
        EnqueueFront(q 2.0 10 timedOut err)
        Printf("EnqueueFront with queue containing 1 element\n")
        GetQueueStatus(q true maxsize * * * ne remainingElts err)
        Printf("GetQueueStatus: maxsize=%d numElem=%d remainingElts=%z\n" maxsize ne remainingElts)
        Dequeue(q y * * err)
        Printf("Dequeue y=%z\n" y)
        GetQueueStatus(q true maxsize * * * ne remainingElts err)
        Printf("GetQueueStatus: maxsize=%d numElem=%d remainingElts=%z\n" maxsize ne remainingElts)
        Dequeue(q y * * err)
        Printf("Dequeue y=%z\n" y)
        GetQueueStatus(q true maxsize * * * ne remainingElts err)
        Printf("GetQueueStatus: maxsize=%d numElem=%d remainingElts=%z\n" maxsize ne remainingElts)
    )

) ) )

enqueue(TestProgram)
