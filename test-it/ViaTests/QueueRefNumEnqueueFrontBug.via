define(TestProgram dv(.VirtualInstrument (
    c(
        e(.QueueRefNum<.Double> q)
        e(.QueueRefNum<.Double> q2)
        e(.QueueRefNum<.Double> q3)
        e(.QueueRefNum<.Double> q4)
        e(.Double y)
        e(.Int32 maxsize)
        e(.Int32 ne)
        e(.Boolean timedOut)
        e(.Boolean overflowed)
        e(.Boolean badAliasingTestPass)
        e(a(.Double *) remainingElts)
        e(.ErrorCluster err)
    )

    clump (
        ObtainQueue(q * * * * err)
        Printf("Obtain new unbounded queue\n")
        Enqueue(q 0.0 1000 timedOut err)
        Printf("Enqueue with empty unbounded queue\n")
        GetQueueStatus(q true maxsize * * * ne remainingElts err)
        Printf("GetQueueStatus: maxsize=%d numElem=%d remainingElts=%z err= %z\n" maxsize ne remainingElts err)
        Dequeue(q y * * err)
        Printf("Dequeue unbounded queue y=%z\n" y)
        GetQueueStatus(q true maxsize * * * ne remainingElts err)
        Printf("GetQueueStatus: maxsize=%d numElem=%d remainingElts=%z\n" maxsize ne remainingElts)
        EnqueueFront(q 1.0 1000 timedOut err)
        Printf("EnqueueFront with empty unbounded queue\n")
        GetQueueStatus(q true maxsize * * * ne remainingElts err)
        Printf("GetQueueStatus: maxsize=%d numElem=%d remainingElts=%z\n" maxsize ne remainingElts)
        EnqueueFront(q 2.0 10 timedOut err)
        Printf("EnqueueFront with queue containing 1 element\n")
        GetQueueStatus(q true maxsize * * * ne remainingElts err)
        Printf("GetQueueStatus: maxsize=%d numElem=%d remainingElts=%z\n" maxsize ne remainingElts)
        Dequeue(q y * * err)
        Printf("Dequeue y=%z\n" y)
        GetQueueStatus(q true maxsize * * * ne remainingElts err)
        Printf("GetQueueStatus: maxsize=%d numElem=%d remainingElts=%z\n" maxsize ne remainingElts)
        Dequeue(q y * * err)
        Printf("Dequeue y=%z\n" y)
        GetQueueStatus(q true maxsize * * * ne remainingElts err)
        Printf("GetQueueStatus: maxsize=%d numElem=%d remainingElts=%z\n" maxsize ne remainingElts)

        Printf("\n")
        ObtainQueue(q2 10 * * * err)
        Printf("Obtain new fixed size queue [10]\n")
        GetQueueStatus(q2 true maxsize * * * ne remainingElts err)
        Printf("GetQueueStatus: maxsize=%d numElem=%d remainingElts=%z err= %z\n" maxsize ne remainingElts err)
        Enqueue(q2 10.0 1000 timedOut err)
        Printf("Enqueue\n")
        GetQueueStatus(q2 true maxsize * * * ne remainingElts err)
        Printf("GetQueueStatus: maxsize=%d numElem=%d remainingElts=%z err= %z\n" maxsize ne remainingElts err)
        Dequeue(q2 y * * err)
        Printf("Dequeue y=%z\n" y)
        GetQueueStatus(q2 true maxsize * * * ne remainingElts err)
        Printf("GetQueueStatus: maxsize=%d numElem=%d remainingElts=%z err= %z\n" maxsize ne remainingElts err)
        EnqueueFront(q2 20.0 1000 timedOut err)
        Printf("EnqueueFront\n")
        GetQueueStatus(q2 true maxsize * * * ne remainingElts err)
        Printf("GetQueueStatus: maxsize=%d numElem=%d remainingElts=%z err= %z\n" maxsize ne remainingElts err)
        Dequeue(q2 y * * err)
        Printf("Dequeue y=%z\n" y)
        GetQueueStatus(q2 true maxsize * * * ne remainingElts err)
        Printf("GetQueueStatus: maxsize=%d numElem=%d remainingElts=%z err= %z\n" maxsize ne remainingElts err)

        Printf("\n")
        ObtainQueue(q3 1 * * * err)
        Printf("Obtain new fixed size queue [1]\n")
        GetQueueStatus(q3 true maxsize * * * ne remainingElts err)
        Printf("GetQueueStatus: maxsize=%d numElem=%d remainingElts=%z err= %z\n" maxsize ne remainingElts err)
        EnqueueFront(q3 0.0 1000 timedOut err)
        Printf("EnqueueFront\n")
        GetQueueStatus(q3 true maxsize * * * ne remainingElts err)
        Printf("GetQueueStatus: maxsize=%d numElem=%d remainingElts=%z err= %z\n" maxsize ne remainingElts err)
        Dequeue(q3 y * * err)
        Printf("Dequeue y=%z\n" y)
        GetQueueStatus(q3 true maxsize * * * ne remainingElts err)
        Printf("GetQueueStatus: maxsize=%d numElem=%d remainingElts=%z err= %z\n" maxsize ne remainingElts err)
        EnqueueFront(q3 1.0 1000 timedOut err)
        Printf("EnqueueFront\n")
        GetQueueStatus(q3 true maxsize * * * ne remainingElts err)
        Printf("GetQueueStatus: maxsize=%d numElem=%d remainingElts=%z err= %z\n" maxsize ne remainingElts err)
        Dequeue(q3 y * * err)
        Printf("Dequeue y=%z\n" y)
        GetQueueStatus(q3 true maxsize * * * ne remainingElts err)
        Printf("GetQueueStatus: maxsize=%d numElem=%d remainingElts=%z err= %z\n" maxsize ne remainingElts err)

        Printf("\n")
        ObtainQueue(q4 * * * * err)
        Printf("Obtain new unbounded queue\n")
        GetQueueStatus(q4 true maxsize * * * ne remainingElts err)
        Printf("GetQueueStatus: maxsize=%d numElem=%d remainingElts=%z err= %z\n" maxsize ne remainingElts err)
        Dequeue(q4 y 5 timedOut err)
        Printf("Dequeue y=%z timedOut=%z err=%z\n" y timedOut err)
        GetQueueStatus(q4 true maxsize * * * ne remainingElts err)
        Printf("GetQueueStatus: maxsize=%d numElem=%d remainingElts=%z err= %z\n" maxsize ne remainingElts err)
        EnqueueFront(q4 20.0 1000 timedOut err)
        Printf("EnqueueFront\n")
        GetQueueStatus(q4 true maxsize * * * ne remainingElts err)
        Printf("GetQueueStatus: maxsize=%d numElem=%d remainingElts=%z err= %z\n" maxsize ne remainingElts err)
        Enqueue(q4 10.0 1000 timedOut err)
        Printf("Enqueue\n")
        GetQueueStatus(q4 true maxsize * * * ne remainingElts err)
        Printf("GetQueueStatus: maxsize=%d numElem=%d remainingElts=%z err= %z\n" maxsize ne remainingElts err)
        Dequeue(q4 y * * err)
        Printf("Dequeue y=%z\n" y)
        GetQueueStatus(q4 true maxsize * * * ne remainingElts err)
        Printf("GetQueueStatus: maxsize=%d numElem=%d remainingElts=%z err= %z\n" maxsize ne remainingElts err)
        Dequeue(q4 y * * err)
        Printf("Dequeue y=%z\n" y)
        GetQueueStatus(q4 true maxsize * * * ne remainingElts err)
        Printf("GetQueueStatus: maxsize=%d numElem=%d remainingElts=%z err= %z\n" maxsize ne remainingElts err)
    )

) ) )

enqueue(TestProgram)
